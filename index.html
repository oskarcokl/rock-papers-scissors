<!DOCTYPE html>

<html>
  <head>
    <title>Oskar's rock paper scissors game</title>
  </head>
  <script>
    function computerPlay() {
      let choice = Math.floor(Math.random()*3);
      switch(choice) {
        case 0:
          return "Scissors";
          break;
        case 1:
          return "Paper";
          break;
        case 2:
          return "Rock";
          break;
      }      
    }

    function round(playerSelection, computerSelection) {
      //console.log(playerSelection);
      //console.log(computerSelection);
      playerSelection = playerSelection.toLowerCase();
      switch(playerSelection) {
        case "scissors":
          switch(computerSelection) {
            case "Scissors":
              return  "Draw! You both chose Scissors!";
              break;
            case "Rock":
              return "Lose! Rock beats Scissors";
              break;
            case "Paper":
              return "Win! Scissors beat Paper";
              break;
          }
          break;
        case "rock":
          switch(computerSelection) {
            case "Scissors":
              return "Win! Rock beats Scissors";
              break;
            case "Rock":
              return "Draw! You both chose Rock!"
              break;
            case "Paper":
              return "Lose! Paper beats Rock";
              break;
          }
          break;
        case "paper":
          switch(computerSelection) {
            case "Scissors":
              return "Lose! Scissors beat Rock!";
              break;
            case "Rock":
              return "Win! Paper beats Rock!";
              break;
            case "Paper":
              return "Draw! You both chose Paper";
              break;
          }
          break;
      }
    }

    function game() {
      let scorePlayer = 0;
      let scoreComputer = 0;
      while (scorePlayer < 3 && scoreComputer < 3) {
        playerSelection = prompt("What do you chose rock, paper or scissors?");
        var result = round(playerSelection, computerPlay())
        console.log(result);
        result = result.split(" ");
        //console.log(result[0]);
        switch (result[0]) {
          case "Win!":
            scorePlayer++;
            break;
          case "Lose!":
            scoreComputer++;
            break;
          case "Draw":
            break;
        }
        console.log("score: "+scorePlayer+"|"+scoreComputer);
      }
    }

  </script>
</html>
